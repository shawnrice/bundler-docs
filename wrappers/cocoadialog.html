<!DOCTYPE html>
<html class="no-js" lang="en">
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>Alfred Bundler | CocoaDialog</title>
        <link rel="stylesheet" href="../stylesheets/app.css"/>
        <script src="../bower_components/modernizr/modernizr.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="../highlight/foundation.css">
    </head>
    <body>
        <header>
            <nav class="top-bar" data-topbar role="navigation">
                <ul class="title-area">
                    <li class="name">
                        <h1><a href="../index.html">The Alfred Bundler</a></h1>
                    </li>
                    <li class="toggle-topbar menu-icon"><a href="#"><span> </span></a></li>
                </ul>
                <section class="top-bar-section">
                    <ul class="right">
                        <li class="has-dropdown active">
                            <a href="../features.html">Features</a>
                            <ul class="dropdown">
                                <li><a href="../icons.html">Icons</a></li>
                                <li><a href="../utilities.html">Utilities</a></li>
                                <li class="active"><a href="../wrappers.html">Wrappers</a></li>
                                <li><a href="../logs.html">Logging</a></li>
                                <li><a href="../defaults.html">Defaults</a></li>
                                <li><a href="../custom-assets.html">Custom</a></li>
                            </ul>
                        </li>
                        <li class="has-dropdown">
                            <a href="../quickstart.html">Quickstart</a>
                            <ul class="dropdown">
                                <li><a href="../quickstart-applescript.html">AppleScript</a></li>
                                <li><a href="../quickstart-bash.html">Bash</a></li>
                                <li><a href="../quickstart-php.html">PHP</a></li>
                                <li><a href="../quickstart-python.html">Python</a></li>
                                <li><a href="../quickstart-ruby.html">Ruby</a></li>
                            </ul>
                        </li>
                        <li class="has-dropdown">
                            <a href="#">Documentation</a>
                            <ul class="dropdown">
                                <li><a href="../bash.html">Bash</a></li>
                                <li><a href="../docs/php/" target="_blank">PHP</a></li>
                                <li><a href="../docs/python/" target="_blank">Python</a></li>
                                <li><a href="../docs/ruby/frames.html" target="_blank">Ruby</a></li>
                            </ul>
                        </li>
                        <li><a href="https://github.com/shawnrice/alfred-bundler/tree/taurus">Github</a></li>
                    </ul>
                </section>
            </nav>
        </header>

        <div class="separator">&nbsp;</div>

        <div class="row">
            <div class="large-12 columns">
                <h2>The CocoaDialog Wrapper</h2>
            </div>
        </div>

        <div class="row">
            <div class="small columns">
                <div class="clear-fix"></div>
                <div class="panel">
                    <img align="left" src="../images/info.png" width="100" style="margin-right: 20px;">
                    <p>This page is a simple introduction into using the CocoaDialog wrappers supplied in The Alfred Bundler.<br>Although they are not shown here, there are many default icons and dialog types to choose from in the CocoaDialog application. To see the full documentation of icons and dialog types supported by these wrappers please see the <a href="cocoadialog-reference.html">CocoaDialog Reference</a> page.</p>
                    <p><em>Note:</em> the use of external dialogs in Alfred workflows is a sensitive subject. In order to provide the highest quality workflow, please follow the defined standards found at the <a href="cocoadialog-standards.html">CocoaDialog Standards</a> page.</p>
                </div>
                <div class="panel callout">
                    <p>In order for you to use the wrappers, you must already have initialized an object for the bundler.
                    For instructions on how to initialize the bundler please see the <a href="../quickstart-php.html">PHP</a>,
                    <a href="../quickstart-python.html">Python</a>, or <a href="../quickstart-ruby.html">Ruby</a> quickstart pages.</p>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="small-12 columns">
                <h3>Initializing The Client</h3>
                <dl class="tabs vertical" data-tab style="padding-right: 30px;">
                    <dd class="active"><a href="#init-client-php">PHP</a></dd>
                    <dd><a href="#init-client-py">Python</a></dd>
                    <dd><a href="#init-client-rb">Ruby</a></dd>
                </dl>
                <div class="tabs-content">
                    <div class="content active" id="init-client-php">
                        <pre><code class="php">$client = $bundler->wrapper('cocoadilaog')</code></pre>
                        <br>
                        <p>If you wish to enabled debugging, set the debug parameter to true.</p>
                        <pre><code class="php">$client = $bundler->wrapper('cocoadilaog', $debug=true)</code></pre>
                    </div>
                    <div class="content" id="init-client-py">
                        <pre><code class="python">client = bundler.wrapper('cocoadialog')</code></pre>
                        <br>
                        <p>If you wish to enabled debugging, set the debug parameter to true.</p>
                        <pre><code class="python">client = bundler.wrapper('cocoadialog', debug=True)</code></pre>
                    </div>
                    <div class="content" id="init-client-rb">
                        <pre><code class="ruby">@client = @bundler.wrapper('cocoadialog')</code></pre>
                        <br>
                        <p>If you wish to enabled debugging, set the debug parameter to true.</p>
                        <pre><code class="ruby">@client = @bundler.wrapper('cocoadialog', debug=true)</code></pre>
                    </div>
                </div>
            </div>
            <div class="small-12 columns">
                <h3>Spawning Dialogs</h3>
                <img align="right" src="images/msgbox.png">
                <p>If you want to spawn awesome dialog boxes like the one to the right, you must call the type of dialog you want using acceptable parameters.</p>
                <p>A list of all available dialogs and accepted parameters can be found at the <a href="cocoadialog-reference.html">CocoaDialog Reference</a> page.</p>
                <div class="row" style="padding-top: 50px;">
                <p>All dialogs are spawned in the same basic format...</p>
                <code><span data-tooltip aria-haspopup="true" class="has-tip tip-top" title="Variable that captures output from dialog">output_capture</span> = <span data-tooltip aria-haspopup="true" class="has-tip tip-top" title="Initialized client object (shown above)">client</span>.<span data-tooltip aria-haspopup="true" class="has-tip tip-top" title="Type of dialog to be spawned">dialog_type</span>(<span data-tooltip aria-haspopup="true" class="has-tip tip-top" title="Multiple valid argument parameters">**valid_argument</span>=<span data-tooltip aria-haspopup="true" class="has-tip tip-top" title="Multiple valid value parameters">**valid_value</span>)</code>
                <br><br><p><em>Following the format above, we can spawn the dialog above with the following client calls.</em></p>
                <div class="row">
                <dl class="tabs vertical" data-tab style="padding-right: 30px;">
                    <dd class="active"><a href="#build-dialogs-php">PHP</a></dd>
                    <dd><a href="#build-dialogs-py">Python</a></dd>
                    <dd><a href="#build-dialogs-rb">Ruby</a></dd>
                </dl>
                <div class="tabs-content">
                    <div class="content active" id="build-dialogs-php">
                        <pre><code class="php">$my_message_box = $client->msgbox([
    'title'=>'My Message Box',
    'text'=>'This is the heading of my message box',
    'informative_text'='Informational text goes in here',
    'button1'=>'Click Me!',
    'button2'=>"Don't click me...",
    'icon'=>'info'
]);</code></pre>
                    </div>
                    <div class="content" id="build-dialogs-py">
                        <pre><code class="python">my_message_box = client.msgbox(
    title='My Message Box',
    text='This is the heading of my message box',
    informative_text='Informational text goes in here',
    button1='Click Me!',
    button2='Don\'t click me...',
    icon='info'
)</code></pre>
                    </div>
                    <div class="content" id="build-dialogs-rb">
                        <pre><code class="ruby">my_message_box = @client.msgbox(
    title:'My Message Box',
    text:'This is the heading of my message box',
    informative_text:'Informational text goes in here',
    button1:'Click Me!',
    button2:'Don\'t click me...',
    icon:'info'
)</code></pre>
                    </div>
                </div>
        </div>
        </div>
        </div>
    </div>
        <div class="row">
        <div class="panel callout">
            Don't forget to escape quotation marks and other necessary punctuation when using the wrappers.
        </div>
        <div class="small-12 columns">
            <h3>Progress Bars</h3>
            <img align="right" src="images/progressbar.png">
            <p>Progress bars are extremely useful for giving the user an idea of how long some opperation is taking.</p>
            <p>Since the implementation of progress bars can be fairly confusing from the raw CocoaDialog application, we have simplified it down to a few methods.</p>
            <p><strong>Note</strong> that the Python variant of the CocoaDialog wrapper handles spawning progress bars differently from the PHP, and Ruby variants.</p>
            <div class="row" style="padding-top: 1px;">
                <dl class="tabs vertical" data-tab style="padding-right: 30px;">
                    <dd class="active"><a href="#init-prog-php">PHP</a></dd>
                    <dd><a href="#init-prog-py">Python</a></dd>
                    <dd><a href="#init-prog-rb">Ruby</a></dd>
                </dl>
                <div class="tabs-content">
                    <div class="content active" id="init-prog-php">
                        <pre><code class="php">$my_progress_bar = new ProgressBar($client, [
    'title'=>'My Progress Bar',
    'percent'=>0,
    'text'=>'[0 of 100] Processing stuff...',
    'icon'=>'finder'
]);</code></pre>
                    </div>
                    <div class="content" id="init-prog-py">
                        <pre><code class="python">my_progress_bar = client.progressbar(
    title='My Progress Bar',
    percent=0,
    text='[0 of 100] Processing stuff...',
    icon='finder'
)</code></pre>
                    </div>
                    <div class="content" id="init-prog-rb">
                        <pre><code class="ruby">my_progress_bar = Alfred::ProgressBar.new(@client,
    title:'My Progress Bar',
    percent:0,
    text:'[0 of 100] Processing stuff...',
    icon:'finder'
)</code></pre>
                    </div>
                </div>
            </div>
            <p>Updating the progress bar is also very easy to implement. Simply call the <em>update</em> method in the progress bar class.<br>For this example implementation I'll use a random wait time to simmulate some process where you might need to use a progress bar.</p>
            <div class="row" style="padding-top: 1px;">
                <dl class="tabs vertical" data-tab style="padding-right: 30px;">
                    <dd class="active"><a href="#prog-update-php">PHP</a></dd>
                    <dd><a href="#prog-update-py">Python</a></dd>
                    <dd><a href="#prog-update-rb">Ruby</a></dd>
                </dl>
                <div class="tabs-content">
                    <div class="content active" id="prog-update-php">
                        <pre><code class="php">foreach(range(0, 101) as $n) {
    //...< your process here >...
    $my_progress_bar->update($percent=$n, $text=sprintf('[%d of 100] Processing stuff...', $n));
    time_nanosleep(0, 100000000);
}</code></pre>
                    </div>
                    <div class="content" id="prog-update-py">
                        <pre><code class="python">import time
for n in range(101):
    #...< your process here >...
    my_progress_bar.update(percent=n, text='[%d of 100] Processing stuff...' % n)
    time.sleep(0.1)</code></pre>
                    </div>
                    <div class="content" id="prog-update-rb">
                        <pre><code class="ruby">(0..100).step(1) do |n|
    #...< your process here >...
    my_progress_bar.update(percent=n, text='[%d of 100] Processing stuff...' % n)
    sleep(0.1)
end</code></pre>
                    </div>
                </div>
            </div>
            <br>
            <img align="right" src="images/stoppableprogressbar.png">
            <p>If you want to allow your progress bar to be stopped, you will have to set your loop to check if the progress bar is still alive.</p><p>By default, the progress bar <em>update</em> method will return the integer 1 if the progress bar is still alive. If the user presses the <em>stop</em> button, the progress bar will die and the next update method will return the integer 0 instead.</p>
            <p>To catch the output of the <em>update</em> method, format your loop similar to the following example.</p>
            <div class="row" style="padding-top: 1px;">
                <dl class="tabs vertical" data-tab style="padding-right: 30px;">
                    <dd class="active"><a href="#stop-prog-php">PHP</a></dd>
                    <dd><a href="#stop-prog-py">Python</a></dd>
                    <dd><a href="#stop-prog-rb">Ruby</a></dd>
                </dl>
                <div class="tabs-content">
                    <div class="content active" id="stop-prog-php">
                        <pre><code class="php">$my_stoppable_progress_bar = new ProgressBar($client, [
    'title'=>'My Progress Bar',
    'percent'=>0,
    'text'=>'[0 of 100] Syncing...',
    'icon'=>'sync',
    'stoppable'=>true
]);
foreach(range(0, 101) as $n) {
    //...< your process here >...
    if($my_stoppable_progress_bar->update(
        $percent=$n,
        $text=sprintf('[%d of 100] Syncing...', $n)
    ) == 0) {
        // User stopped progress bar...
        break;
    }
    time_nanosleep(0, 100000000);
}</code></pre>
                    </div>
                    <div class="content" id="stop-prog-py">
                        <pre><code class="python">my_stoppable_progress_bar = client.progressbar(
    title='My Progress Bar',
    percent=0,
    text='[0 of 100] Syncing...',
    icon='sync',
    stoppable=True
)
import time
for n in range(101):
    #...< your process here >...
    if my_stoppable_progress_bar.update(
        percent=n,
        text='[%d of 100] Syncing...' % n
    ) == 0:
        # User stopped progress bar...
        break
    time.sleep(0.1)</code></pre>
                    </div>
                    <div class="content" id="stop-prog-rb">
                        <pre><code class="ruby">my_stoppable_progress_bar = Alfred::ProgressBar.new(@client,
    title:'My Progress Bar',
    percent:0,
    text:'[0 of 100] Syncing...',
    icon:'sync',
    stoppable:true
)
(0..100).step(1) do |n|
    #...< your process here >...
    if my_stoppable_progress_bar.update(
        percent=n,
        text='[%d of 100] Syncing...' % n
    ) == 0
        # User stopped progress bar...
        break
    end
    sleep(0.1)
end</code></pre>
                    </div>
                </div>
            </div>
        </div>
        </div>
        <footer>
            <div class="top-footer"></div>
            <div class="bottom-footer">
                <div class="row">
                    <div class="right footer">
                        <p>The Alfred Bundler is open source, released under the <a href="http://opensource.org/licenses/MIT">MIT</a> license.</p>
                        <p>&copy; The Alfred Bundler Team, 2014</p>
                    </div>
                </div>
            </div>
        </footer>
        <script src="../bower_components/jquery/dist/jquery.min.js"></script>
        <script src="../bower_components/foundation/js/foundation.min.js"></script>
        <script src="../bower_components/foundation/js/foundation/foundation.equalizer.js"></script>
        <script src="../bower_components/foundation/js/foundation/foundation.alert.js"></script>
        <script src="../js/app.js"></script>
        <script src="../highlight/highlight.pack.js"></script>
        <script>$(document).foundation();</script>
        <script>hljs.initHighlightingOnLoad();</script>
    </body>
</html>