<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Alfred Bundler</title>
    <link rel="stylesheet" href="stylesheets/app.css" />
    <script src="bower_components/modernizr/modernizr.js"></script>
    <link href='https://fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
  </head>
  <body>

    <header>
      <nav class="top-bar" data-topbar role="navigation">
        <ul class="title-area">
          <li class="name">
            <h1><a href="index.html">The Alfred Bundler</a></h1>
          </li>
          <li class="toggle-topbar menu-icon"><a href="#"><span> </span></a></li>
        </ul>
        <section class="top-bar-section">
                <!-- Left Nav Section -->
<!--           <ul class="left">
            <li><a href="#">Left Button</a></li>
          </ul>
-->
          <!-- Right Nav Section -->
          <ul class="right">
<!--
            <li class="active"><a href="#">Right Button Active</a></li>
-->
            <li class="has-dropdown active">
              <a href="quickstart.html">Quickstart</a>
              <ul class="dropdown">
                <li><a href="quickstart-applescript.html">AppleScript</a></li>
                <li><a href="quickstart-bash.html">Bash</a></li>
                <li class="active"><a href="quickstart-php.html">PHP</a></li>
                <li><a href="quickstart-python.html">Python</a></li>
                <li><a href="quickstart-ruby.html">Ruby</a></li>
              </ul>
            </li>
            <li class="has-dropdown">
              <a href="#">Documentation</a>
              <ul class="dropdown">
                <li><a href="docs/php/" target="_blank">PHP</a></li>
                <li><a href="#" target="_blank">Python</a></li>
                <li><a href="docs/ruby/frames.html" target="_blank">Ruby</a></li>
              </ul>
            </li>
          </ul>
        </section>
      </nav>
    </header>

    <div class="separator">&nbsp;</div>

    <div class="clear-fix"></div>

    <div class="row">
      <h1>Quickstart PHP</h1>
    </div>
    <div class="row">
      <div class="panel small-2 medium-2 columns prog-icon-panel">
        <figure>
          <img src="images/prog-php01.svg" class="prog-icon">
          <figcaption>
            <h4>PHP</h4>
          </figcaption>
        </figure>
      </div>

      <div class="small-8 columns">
        <p>1. <a href="https://raw.githubusercontent.com/shawnrice/alfred-bundler/devel/bundler/bundlets/alfred.bundler.php" target="_blank">Download the bundlet</a>, and place it in your workflow's root directory.</p>
        <p>2. Include the bundlet<br />
        <code>require_once('alfred.bundler.php');</code></p>
        <p>3. Instantiate a Bundler object.<br />
        <code>$b = new AlfredBundler;</code></p>
      </div>
    </div>

    <div class="row">
      <div class="small-12 columns usage">


<h3>Using the Bundler</h3>

<h5>Load a library</h5>
<ul>
<li>
<code>
$b-&gt;library('Workflows.php');
</code>
</li>
</ul>

<h5>Load a Utility</h5>
<ul>
<li>
<code>
$tn = $b-&gt;utility('Terminal-Notifier');
</code>
</li>
</ul>

<h5>Load an Icon</h5>
<ul>
<li>
<code>
$icon = $b-&gt;icon('elusive', 'fire', '000000');
</code>
</li>
</ul>

<h5>Load a Composer Package</h5>
<ul>
<li>
<code>
$b-&gt;composer(['monolog/monolog' =&gt; '1.0.*']);
</code>
</li>
</ul>

<h5>Load a Wrapper</h5>

<ul>
<li>
<code>
$cd = $b-&gt;wrapper('cocoadialog');
</code>
</li>
</ul>

<h5>Send a Notification</h5>
<ul>
<li>
<code>
$b-&gt;notify('Message', 'Title', '/path/to/icon');
</code>
</li>
</ul>

<p><em>Note: the icon argument falls back to the workflow icon if it is available.</em></p>

<h5>Logging</h5>

<p>In order to use the logs, you need to initialize the bundler differently:</p>

<ul>
  <li>
    <code>require_once('alfred.bundler.php');</code>
  </li>
  <li>
    <code>$b = new AlfredBundler(['wf_log' =&gt; true]);</code>
  </li>
</ul>


<p>The <code>wf_log</code> key will give you access to console logs as well as a default file log located in the workflow’s data directory named <code>{workflow-bundle-id}.log</code>. So, if your workflow’s bundle id is <code>com.spr.bundler.example</code>. The log will be located at <code>~/Library/Application Support/Alfred 2/Workflow Data/com.spr.bundler.example/com.spr.bundler.example.log</code>.</p>

<p>After that, to log a message, you can use</p>
<ul>
<li>
<code>
$b-&gt;log('My log message', 'info', 'both');
</code>
</li>
</ul>

<p class="clear-fix">That will log the message at level “info” in both the console and the file log.</p>

<p>The third argument can be either <code>console</code>, <code>file</code>, or <code>both</code>. The valid log levels are <code>debug</code>, <code>info</code>, <code>warning</code>, <code>error</code>, <code>critical</code>. If you input an invalid log level, then an error will be logged to the console, and the log level will fallback to <code>info</code>.</p>

<p>There are shortcut functions available too...</p>

<h5>Log a message to the console:</h5>
<ul>
<li>
<code>
$b-&gt;console('My log message', 'critical');
</code>
</li>
</ul>

<p>The following take two arguments (<code>message</code>, <code>destination</code>), although the second is optional. If you do not specify a log destination, it will fallback to <code>console</code>.</p>

<h5>Log a debug message</h5>
<ul>
<li>
<code>
$b-&gt;debug('My debug message');
</code>
</li>
</ul>

<h5>Log an info message to a file</h5>
<ul>
<li>
<code>
$b-&gt;info('My info message', 'file');
</code>
</li>
</ul>

<h5>Log a warning to the console:</h5>
<ul>
<li>
<code>
$b-&gt;warning('My warning message', 'console');
</code>
</li>
</ul>

<h5>Log an error</h5>
<ul>
<li>
<code>
$b-&gt;error('My error message');
</code>
</li>
</ul>

<h5>Log a critical error to the console and the file log</h5>
<ul>
<li>
<code>
$b-&gt;critical('My critical error message', 'both');
</code>
</li>
</ul>

<p><em>Note: Logging an error or a critical error will not affect the running of your workflow. If you want to raise an error, then you must code that in manually. The log level describes the level but nothing more.</em></p>

      </div>
    </div>


<div class="row">
<div class="medium-6 columns">
  <div class="callout panel">
    <h5><strong>Questions?</strong></h5>
    <p>
      Post on the <a href="http://www.alfredforum.com/topic/4255-alfred-dependency-downloader-framework/">Alfred Forum thread</a>.
    </p>
  </div>
</div>

<div class="medium-6 columns">
  <div class="callout panel">
    <h5><strong>Bug Reports?</strong></h5>
    <p>
      Open an issue in the <a href="https://github.com/shawnrice/alfred-bundler/issues">Github queue</a>.
    </p>
  </div>
</div>

</div>

    <footer>
      <div class="top-footer"></div>
      <div class="bottom-footer">
        <div class="row">
          <div class="right footer">
            <p>The Alfred Bundler is open source, released under the <a href="http://opensource.org/licenses/MIT">MIT</a> license.</p>
            <p>(C) The Alfred Bundler Team, 2014</p>
          </div>
        </div>
      </div>
    </footer>
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="bower_components/foundation/js/foundation.min.js"></script>
    <script src="js/app.js"></script>
    <script>
      $(document).foundation();
    </script>
  </body>
</html>
